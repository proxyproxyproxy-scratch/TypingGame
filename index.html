DOCTYPE HTML>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>タイピングラッシュ</title>
  </head>
  <body>
    <section id="section">
      <p id="title"></p>
      <p id="output"></p>
    </section>
    <script>
      
      function initHTMLstyle(){
        // set section Height & Width
        let section = document.getElementById('section');
        section.style.height = window.innerHeight+'px';
        section.style.width = window.innerWidth+'px';
        // create play button
        createButton('スタート',undefined,'startButton');
        createButton('遊び方',undefined,'howButton');
        document.querySelectorAll('input').forEach(input => {
          input.style.fontSize = '24px';
          input.style.margin = '20px auto'
        });
        
        let title = document.getElementById('title');
        title.textContent = 'タイピングラッシュ';
        title.style.fontSize = '32px';
        
        document.getElementById('startButton').addEventListener("click",levelchoiceHTMLstyle);
        document.getElementById('howButton').addEventListener("click",function(){window.open('./how-to-play.html');});
      }

      function levelchoiceHTMLstyle(){
        document.querySelectorAll('form').forEach(form => form.remove());

        let title = document.getElementById('title');
        title.textContent = '--= レベルを選択する =--';
        title.style.fontSize = '32px';
        createButton('Select',' グレード1','play1');
        createButton('Select',' グレード2','play2');
        createButton('Select',' グレード3','play3');
        createButton('Select',' グレード4','play4');
        createButton('Select',' グレード5','play5');
        document.querySelectorAll('input').forEach(input => {
          input.style.fontSize = '18px';
          input.style.margin = '20px auto 0px';
          input.onclick=function(){window.open('/play.html#'+input.id);}
        });
      }
      
      function createButton(buttonValue,subtext,id){ 
        // subtext initalValue is blank
        let form = document.createElement('form');
        let input = document.createElement('input');
        input.type = 'button';
        input.value = buttonValue;
        if(id !== undefined){
          input.id = id;
        }
        document.querySelector('section').appendChild(form);
        form.appendChild(input);
        
        if(subtext !== undefined){
          let subtextNode = document.createElement('span');
          subtextNode.textContent = subtext;
          form.appendChild(subtextNode);
        }
      }
      
      document.addEventListener('DOMContentLoaded',initHTMLstyle);
